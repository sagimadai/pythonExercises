import random

questions = {
    "science": [
        {"q": "What is the chemical formula for water?", "a": "H2O"},
        {"q": "How many planets are in the Solar System?", "a": "8"}
    ],
    "history": [
        {"q": "When was the State of Israel established?", "a": "1948"},
        {"q": "Who was the first president of the United States?", "a": "George Washington"}
    ],
    "pop culture": [
        {"q": "Who sang the song 'Thriller'?", "a": "Michael Jackson"},
        {"q": "In which TV show does the character 'Chandler' appear?", "a": "Friends"}
    ]
}

players = []
scores = {}
rounds = 3

def ask_question(player):
    print(f"Hello {player}, please choose a category: science, history, or pop culture")
    category = input("Your choice: ").lower().strip()

    if category not in questions:
        print("Invalid category! Your turn is over.")
        return
    
    question = random.choice(questions[category])

    print(question["q"])
    answer = input("Your answer: ").strip().lower()

    if answer == question["a"].lower():
        print("Correct!!!")
        scores[player] += 1
    else:
        print(f"Wrong! The correct answer was: {question['a']}")

def show_scores():
    print("\nCurrent Scores:")
    for player, score in scores.items():
        print(f"{player}: {score}")

def declare_winner():
    highest_score = max(scores.values())
    winners = [player for player, score in scores.items() if score == highest_score]
    if len(winners) == 1:
        print(f"\nThe winner is {winners[0]} with {highest_score} points!")
    else:
        print(f"\nIt's a tie! The winners are: {', '.join(winners)} with {highest_score} points!")

def main():
    print("Welcome to the Quiz Quest!")

    try:
        num_players = int(input("How many players? "))
    except ValueError:
        print("Invalid input! Exiting...")
        return

    if num_players < 1:
        print("There must be at least one player!")
        return

    for _ in range(num_players):
        name = input("Enter player name: ")
        players.append(name)
        scores[name] = 0

    for round_num in range(1, rounds + 1):
        print(f"\nRound {round_num}!")

        for player in players:
            ask_question(player)

        show_scores()

    declare_winner()

if __name__ == "__main__":
    main()
